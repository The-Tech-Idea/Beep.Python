<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beep.Python.PackageManagement - Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="assets/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleSidebar()">
        <i class="bi bi-list"></i>
    </button>

    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <i class="bi bi-sun-fill" id="theme-icon"></i>
    </button>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Navigation will be loaded dynamically -->
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="content-wrapper">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="bi bi-box-seam text-primary"></i> Beep.Python.PackageManagement</h1>
                        <p class="lead">Enterprise Python package management system for .NET applications with enhanced session management, virtual environment integration, and comprehensive package lifecycle management</p>
                        
                        <div class="quick-start-buttons">
                            <a href="#installation" class="btn btn-primary btn-lg">
                                <i class="bi bi-download"></i> Installation
                            </a>
                            <a href="#quick-start" class="btn btn-outline-primary btn-lg">
                                <i class="bi bi-rocket"></i> Quick Start
                            </a>
                            <a href="#api-reference" class="btn btn-outline-primary btn-lg">
                                <i class="bi bi-book"></i> API Reference
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Overview -->
                <section class="section" id="overview">
                    <h2>üìã Overview</h2>
                    <p>Beep.Python.PackageManagement provides a comprehensive solution for managing Python packages in .NET environments. The system has been refactored to provide a more streamlined architecture with enhanced session management and improved integration with Python virtual environments.</p>
                    
                    <div class="info-box">
                        <h5><i class="bi bi-info-circle"></i> Key Features</h5>
                        <ul>
                            <li><strong>Consolidated Package Management:</strong> All operations unified in PythonPackageManager</li>
                            <li><strong>Enhanced Session Management:</strong> Improved multi-user session support with proper isolation</li>
                            <li><strong>Requirements Management:</strong> Advanced parsing and management of requirements files</li>
                            <li><strong>Package Categories:</strong> Intelligent categorization of packages by functionality</li>
                            <li><strong>Package Sets:</strong> Predefined collections for specific use cases</li>
                            <li><strong>Virtual Environment Integration:</strong> Seamless integration with Python virtual environments</li>
                            <li><strong>Async Operations:</strong> Full async/await support for non-blocking operations</li>
                        </ul>
                    </div>
                </section>

                <!-- Architecture -->
                <section class="section" id="architecture">
                    <h2>üèóÔ∏è Architecture Components</h2>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4><i class="bi bi-gear-wide-connected"></i> PythonPackageManager</h4>
                            <p>Core package management orchestrator with consolidated functionality, session management, and virtual environment coordination</p>
                        </div>
                        
                        <div class="feature-card">
                            <h4><i class="bi bi-collection"></i> PackageCategoryManager</h4>
                            <p>Organizes packages into logical categories like ML, Data Science, Web Development with intelligent auto-categorization</p>
                        </div>
                        
                        <div class="feature-card">
                            <h4><i class="bi bi-layers"></i> PackageSetManager</h4>
                            <p>Manages predefined package collections for specific use cases and project templates</p>
                        </div>
                        
                        <div class="feature-card">
                            <h4><i class="bi bi-file-text"></i> RequirementsFileManager</h4>
                            <p>Enhanced requirements file parsing, generation, and dependency management with session support</p>
                        </div>
                    </div>

                    <div class="info-box">
                        <h5><i class="bi bi-info-circle"></i> Architecture Changes</h5>
                        <p>The architecture has been streamlined by consolidating PackageOperationManager functionality into PythonPackageManager, providing better session management and reducing complexity while maintaining all features.</p>
                    </div>
                </section>

                <!-- Installation -->
                <section class="section" id="installation">
                    <h2>üì¶ Installation</h2>
                    
                    <div class="code-example">
                        <h4>Package Manager Console</h4>
                        <pre><code class="language-powershell">Install-Package Beep.Python.PackageManagement</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>.NET CLI</h4>
                        <pre><code class="language-bash">dotnet add package Beep.Python.PackageManagement</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>Package Reference</h4>
                        <pre><code class="language-xml">&lt;PackageReference Include="Beep.Python.PackageManagement" Version="1.0.16" /&gt;</code></pre>
                    </div>
                </section>

                <!-- Quick Start -->
                <section class="section" id="quick-start">
                    <h2>üöÄ Quick Start</h2>
                    
                    <div class="code-example">
                        <h4>Basic Package Management with Session Support</h4>
                        <pre><code class="language-csharp">using Beep.Python.PackageManagement;
using Beep.Python.Model;
using TheTechIdea.Beep.Container.Services;

// Initialize the package manager with dependencies
var beepService = new BeepService();
var pythonRuntime = new PythonNetRunTimeManager(beepService);
var virtualEnvManager = new PythonVirtualEnvManager(beepService, pythonRuntime);
var sessionManager = new PythonSessionManager(beepService, pythonRuntime);

var packageManager = new PythonPackageManager(
    beepService, 
    pythonRuntime, 
    virtualEnvManager, 
    sessionManager);

// Configure session for a specific user and environment
bool configured = packageManager.ConfigureSessionForUser("john.doe", "data-science-env");
if (!configured)
{
    throw new InvalidOperationException("Failed to configure session");
}

// Install packages with session support
await packageManager.InstallNewPackageWithSessionAsync("pandas");
await packageManager.InstallNewPackageWithSessionAsync("numpy");
await packageManager.InstallNewPackageWithSessionAsync("scikit-learn");

// Install from requirements file
bool installed = await packageManager.InstallFromRequirementsFileWithSessionAsync("requirements.txt");

// Refresh package information
await packageManager.RefreshAllPackagesWithSessionAsync();

// Check configured environment
var environment = packageManager.GetConfiguredVirtualEnvironment();
if (environment?.InstalledPackages != null)
{
    foreach (var package in environment.InstalledPackages)
    {
        Console.WriteLine($"{package.PackageName} {package.Version} - {package.Category}");
    }
}

// Categorize packages automatically
packageManager.PopulateCommonPackageCategories();

// Get packages by category
var mlPackages = packageManager.GetPackagesByCategory(PackageCategory.MachineLearning);
var dataPackages = packageManager.GetPackagesByCategory(PackageCategory.DataScience);</code></pre>
                    </div>
                </section>

                <!-- Core Classes -->
                <section class="section" id="core-classes">
                    <h2>üîß Core Classes</h2>
                    
                    <!-- PythonPackageManager -->
                    <div class="method" id="python-package-manager">
                        <h3><i class="bi bi-box"></i> PythonPackageManager</h3>
                        <p>The consolidated package management class with enhanced session support, providing all package lifecycle operations in a single, streamlined interface.</p>
                        
                        <div class="code-example">
                            <h4>Session Configuration</h4>
                            <pre><code class="language-csharp">// Configure session for a specific user
bool configured = packageManager.ConfigureSessionForUser("username", "environment-id");

// Or configure with existing session and environment objects
var session = sessionManager.CreateSession("username", "env-id");
var environment = virtualEnvManager.GetEnvironmentById("env-id");
bool configured = packageManager.ConfigureSession(session, environment);

// Check session status
bool isConfigured = packageManager.IsSessionConfigured();
var currentSession = packageManager.GetConfiguredSession();
var currentEnvironment = packageManager.GetConfiguredVirtualEnvironment();</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Package Operations</h4>
                            <pre><code class="language-csharp">// Synchronous operations (legacy support)
bool installed = packageManager.InstallNewPackageAsync("tensorflow");
bool upgraded = packageManager.UpgradePackageAsync("pandas");
bool uninstalled = packageManager.UnInstallPackageAsync("old-package");
bool refreshed = packageManager.RefreshAllPackagesAsync();

// Asynchronous operations with session support
await packageManager.InstallNewPackageWithSessionAsync("pytorch", cancellationToken);
await packageManager.RefreshPackageWithSessionAsync("numpy", cancellationToken);
await packageManager.UnInstallPackageWithSessionAsync("unused-lib", cancellationToken);

// Bulk operations
await packageManager.RefreshAllPackagesWithSessionAsync(cancellationToken);</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Enhanced Package Information</h4>
                            <pre><code class="language-csharp">// Get package information with online version checking
var packageInfo = await packageManager.GetPackageInfoAsync("pandas", environment);
Console.WriteLine($"Package: {packageInfo.PackageName}");
Console.WriteLine($"Installed: {packageInfo.Version}");
Console.WriteLine($"Latest: {packageInfo.Updateversion}");
Console.WriteLine($"Status: {packageInfo.Buttondisplay}");

// Get all packages with update information
var allPackages = await packageManager.GetAllPackagesAsync(environment);
var outdatedPackages = allPackages.Where(p => p.Buttondisplay == "Update").ToList();

// Check if package exists online
var onlinePackage = await packageManager.CheckIfPackageExistsAsync("some-package");
if (onlinePackage != null)
{
    Console.WriteLine($"Found: {onlinePackage.PackageName} v{onlinePackage.Version}");
}</code></pre>
                        </div>
                    </div>

                    <!-- PackageCategoryManager Integration -->
                    <div class="method" id="package-category-integration">
                        <h3><i class="bi bi-tags"></i> Package Category Management</h3>
                        <p>Built-in category management with intelligent auto-categorization capabilities.</p>
                        
                        <div class="code-example">
                            <h4>Category Operations</h4>
                            <pre><code class="language-csharp">// Auto-categorize packages based on known patterns
bool categorized = packageManager.PopulateCommonPackageCategories();

// Get packages by category
var mlPackages = packageManager.GetPackagesByCategory(PackageCategory.MachineLearning);
var webPackages = packageManager.GetPackagesByCategory(PackageCategory.WebDevelopment);
var dataPackages = packageManager.GetPackagesByCategory(PackageCategory.DataScience);

// Manual category assignment
packageManager.SetPackageCategory("custom-ml-lib", PackageCategory.MachineLearning);

// Bulk category updates
var categoryUpdates = new Dictionary&lt;string, PackageCategory&gt;
{
    ["tensorflow"] = PackageCategory.MachineLearning,
    ["django"] = PackageCategory.WebDevelopment,
    ["pandas"] = PackageCategory.DataScience
};
packageManager.UpdatePackageCategories(categoryUpdates);

// Get category suggestions for new packages
var packageNames = new[] { "transformers", "fastapi", "plotly" };
var suggestions = await packageManager.SuggestCategoriesForPackages(packageNames);
foreach (var suggestion in suggestions)
{
    Console.WriteLine($"{suggestion.Key} -> {suggestion.Value}");
}</code></pre>
                        </div>
                    </div>

                    <!-- Requirements File Management -->
                    <div class="method" id="requirements-integration">
                        <h3><i class="bi bi-file-earmark-text"></i> Requirements File Management</h3>
                        <p>Enhanced requirements file operations with session support.</p>
                        
                        <div class="code-example">
                            <h4>Requirements Operations</h4>
                            <pre><code class="language-csharp">// Install from requirements file with session support
bool installed = await packageManager.InstallFromRequirementsFileWithSessionAsync(
    "requirements.txt", 
    cancellationToken);

// Generate requirements file from current environment
bool generated = packageManager.GenerateRequirementsFile(
    "generated-requirements.txt", 
    includeVersions: true);

// Update environment from requirements file
var environment = packageManager.GetConfiguredVirtualEnvironment();
bool updated = packageManager.UpdateVirtualEnvironmentWithRequirementsFile(environment);</code></pre>
                        </div>
                    </div>

                    <!-- Package Set Management -->
                    <div class="method" id="package-set-integration">
                        <h3><i class="bi bi-collection-fill"></i> Package Set Management</h3>
                        <p>Predefined package collections for common use cases.</p>
                        
                        <div class="code-example">
                            <h4>Package Set Operations</h4>
                            <pre><code class="language-csharp">// Get available package sets
var availableSets = packageManager.GetAvailablePackageSets();
foreach (var set in availableSets)
{
    Console.WriteLine($"Set: {set.Key}");
    foreach (var package in set.Value)
    {
        Console.WriteLine($"  - {package.PackageName}");
    }
}

// Install a complete package set
bool installed = packageManager.InstallPackageSet("data-science-essentials");

// Create custom package set from current environment
bool saved = packageManager.SavePackageSetFromCurrentEnvironment(
    "my-project-setup", 
    "Complete setup for my data science project");</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Advanced Features -->
                <section class="section" id="advanced-features">
                    <h2>üöÄ Advanced Features</h2>
                    
                    <div class="feature-card">
                        <h4><i class="bi bi-people"></i> Multi-User Session Management</h4>
                        <p>Enhanced session management for multi-user environments with proper isolation.</p>
                        
                        <div class="code-example">
                            <h4>Session Management</h4>
                            <pre><code class="language-csharp">// Create sessions for different users
var userSession1 = packageManager.ConfigureSessionForUser("alice", "ml-environment");
var userSession2 = packageManager.ConfigureSessionForUser("bob", "web-dev-environment");

// Each session operates in isolation
// Alice's session
packageManager.ConfigureSessionForUser("alice", "ml-environment");
await packageManager.InstallNewPackageWithSessionAsync("tensorflow");

// Bob's session  
packageManager.ConfigureSessionForUser("bob", "web-dev-environment");
await packageManager.InstallNewPackageWithSessionAsync("django");

// Sessions don't interfere with each other
var alicePackages = packageManager.GetConfiguredVirtualEnvironment()?.InstalledPackages;
// Switch to Bob's session
packageManager.ConfigureSessionForUser("bob", "web-dev-environment");
var bobPackages = packageManager.GetConfiguredVirtualEnvironment()?.InstalledPackages;</code></pre>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4><i class="bi bi-lightning"></i> Async/Await Support</h4>
                        <p>Full asynchronous operations for better responsiveness and scalability.</p>
                        
                        <div class="code-example">
                            <h4>Asynchronous Operations</h4>
                            <pre><code class="language-csharp">// All operations support cancellation tokens
using var cts = new CancellationTokenSource(TimeSpan.FromMinutes(5));

try
{
    // Non-blocking package installation
    var installTask = packageManager.InstallNewPackageWithSessionAsync("large-package", cts.Token);
    var refreshTask = packageManager.RefreshAllPackagesWithSessionAsync(cts.Token);
    
    // Wait for both operations
    await Task.WhenAll(installTask, refreshTask);
    
    Console.WriteLine($"Installation successful: {installTask.Result}");
    Console.WriteLine($"Refresh successful: {refreshTask.Result}");
}
catch (OperationCanceledException)
{
    Console.WriteLine("Operations were cancelled due to timeout");
}</code></pre>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4><i class="bi bi-shield-check"></i> Enhanced Error Handling</h4>
                        <p>Comprehensive error handling and progress reporting.</p>
                        
                        <div class="code-example">
                            <h4>Error Handling and Progress</h4>
                            <pre><code class="language-csharp">// Progress reporting
var progress = new Progress&lt;PassedArgs&gt;(args =>
{
    Console.WriteLine($"[{args.EventType}] {args.Messege}");
    if (args.Flag == Errors.Failed)
    {
        Console.WriteLine($"Error occurred: {args.Messege}");
    }
});

// Configure progress reporting
packageManager.Progress = progress;

// Operations will report progress automatically
await packageManager.InstallNewPackageWithSessionAsync("complex-package");

// Check if package manager is busy
if (packageManager.IsBusy)
{
    Console.WriteLine("Package manager is currently busy");
    // Wait or cancel operation
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Best Practices -->
                <section class="section" id="best-practices">
                    <h2>üí° Best Practices</h2>
                    
                    <div class="tip">
                        <h5><i class="bi bi-lightbulb"></i> Package Management Best Practices</h5>
                        <ul>
                            <li><strong>Session Configuration:</strong> Always configure sessions before performing package operations</li>
                            <li><strong>Async Operations:</strong> Use async methods with cancellation tokens for better responsiveness</li>
                            <li><strong>Virtual Environments:</strong> Use isolated environments for different projects and users</li>
                            <li><strong>Category Management:</strong> Utilize auto-categorization for better package organization</li>
                            <li><strong>Progress Monitoring:</strong> Implement progress reporting for long-running operations</li>
                            <li><strong>Error Handling:</strong> Always handle exceptions and check operation results</li>
                        </ul>
                    </div>

                    <div class="warning">
                        <h5><i class="bi bi-exclamation-triangle"></i> Common Pitfalls</h5>
                        <ul>
                            <li><strong>Unconfigured Sessions:</strong> Always configure sessions before package operations</li>
                            <li><strong>Blocking Operations:</strong> Use async methods to avoid UI freezing</li>
                            <li><strong>Resource Cleanup:</strong> Properly dispose of package manager instances</li>
                            <li><strong>Concurrent Operations:</strong> Avoid concurrent package operations on the same environment</li>
                        </ul>
                    </div>
                </section>

                <!-- API Reference -->
                <section class="section" id="api-reference">
                    <h2>üìö API Reference</h2>
                    <p>Complete API documentation for the refactored Beep.Python.PackageManagement library.</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>Core Classes</h4>
                            <ul>
                                <li><code>PythonPackageManager</code> - Consolidated package management</li>
                                <li><code>IPythonPackageManager</code> - Package manager interface</li>
                                <li><code>RequirementsFileManager</code> - Requirements management</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h4>Organization Classes</h4>
                            <ul>
                                <li><code>PackageCategoryManager</code> - Category management</li>
                                <li><code>PackageSetManager</code> - Package set management</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h4>Data Models</h4>
                            <ul>
                                <li><code>PackageDefinition</code> - Package information</li>
                                <li><code>PackageCategory</code> - Package categories enum</li>
                                <li><code>PythonSessionInfo</code> - Session information</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h4>Runtime Integration</h4>
                            <ul>
                                <li><code>IPythonRunTimeManager</code> - Runtime management</li>
                                <li><code>IPythonVirtualEnvManager</code> - Environment management</li>
                                <li><code>IPythonSessionManager</code> - Session management</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Navigation Links -->
                <div class="nav-links">
                    <a href="#quick-start" class="btn-beep">
                        <i class="bi bi-rocket"></i> Quick Start
                    </a>
                    <a href="#api-reference" class="btn-beep">
                        <i class="bi bi-book"></i> API Reference
                    </a>
                </div>

                <!-- Footer -->
                <footer class="documentation-footer">
                    <div class="footer-content">
                        <div class="footer-copyright">
                            <p>&copy; 2024 The Tech Idea - Beep.Python.PackageManagement Documentation</p>
                            <p>Supporting .NET 6, 7, 8, and 9 | Enterprise Python Package Management v1.0.16</p>
                        </div>
                        <div class="footer-links">
                            <a href="#installation">Installation</a>
                            <a href="#quick-start">Quick Start</a>
                            <a href="#api-reference">API Reference</a>
                        </div>
                    </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="assets/navigation.js"></script>
</body>
</html>