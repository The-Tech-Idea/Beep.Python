<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - Beep.Python.ML</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="assets/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleSidebar()">
        <i class="bi bi-list"></i>
    </button>

    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <i class="bi bi-sun-fill" id="theme-icon"></i>
    </button>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Navigation will be loaded dynamically -->
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="content-wrapper">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="bi bi-code-square text-success"></i> Examples</h1>
                        <p class="lead">Practical examples and code samples for Beep.Python.ML across .NET 6, 7, 8, and 9 with ready-to-use implementations</p>
                        
                        <div class="achievement-badges">
                            <span class="badge bg-success"><i class="bi bi-check-circle"></i> Copy-Paste Ready</span>
                            <span class="badge bg-info"><i class="bi bi-cpu"></i> Complete Workflows</span>
                            <span class="badge bg-warning"><i class="bi bi-tools"></i> All Assistants</span>
                            <span class="badge bg-primary"><i class="bi bi-star"></i> Production Ready</span>
                        </div>
                    </div>
                </div>

                <!-- Basic Examples -->
                <section class="section" id="basic-examples">
                    <h2>?? Basic Examples</h2>
                    
                    <div class="code-example">
                        <h4>1. Simple Data Loading and Preprocessing</h4>
                        <pre><code class="language-csharp">using Beep.Python.ML;
using Beep.Python.Model;
using TheTechIdea.Beep.Container.Services;

// Initialize ML Manager
var beepService = new BeepService();
var pythonRuntime = new PythonNetRunTimeManager(beepService);
var sessionInfo = new PythonSessionInfo { Username = "data_scientist" };
var mlManager = new PythonMLManager(beepService, pythonRuntime, sessionInfo);

// Configure session
mlManager.ConfigureMLSessionForUser("data_scientist");

// Load and preview data
var features = mlManager.ValidateAndPreviewData("data.csv", numRows: 10);
Console.WriteLine($"Found {features.Length} features: {string.Join(", ", features)}");

// Load full dataset
var loadedFeatures = mlManager.LoadData("data.csv");

// Basic preprocessing using assistant classes
if (mlManager is PythonMLManager manager)
{
    // Handle missing values
    manager.DataPreprocessing.ImputeMissingValues("mean");
    
    // Scale features
    manager.DataPreprocessing.StandardizeData();
    
    // Remove outliers
    manager.DataCleaning.RemoveOutliers(zThreshold: 3.0);
    
    Console.WriteLine("? Data preprocessing completed");
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>2. Simple Model Training</h4>
                        <pre><code class="language-csharp">// Train a Random Forest model
var modelId = "simple_rf_model";
var parameters = new Dictionary&lt;string, object&gt;
{
    ["n_estimators"] = 100,
    ["max_depth"] = 10,
    ["random_state"] = 42
};

mlManager.TrainModel(
    modelId, 
    MachineLearningAlgorithm.RandomForestClassifier, 
    parameters, 
    loadedFeatures.Take(4).ToArray(), // Use first 4 features
    "target"); // Target column

// Evaluate model
var scores = mlManager.GetModelClassificationScore(modelId);
Console.WriteLine($"Accuracy: {scores.Item1:F4}");
Console.WriteLine($"F1-Score: {scores.Item2:F4}");

// Make predictions
var predictions = mlManager.PredictClassification(loadedFeatures.Take(4).ToArray());
Console.WriteLine($"Predictions generated successfully");</code></pre>
                    </div>
                </section>

                <!-- Intermediate Examples -->
                <section class="section" id="intermediate-examples">
                    <h2>?? Intermediate Examples</h2>
                    
                    <div class="code-example">
                        <h4>Feature Engineering Pipeline</h4>
                        <pre><code class="language-csharp">public void RunFeatureEngineeringPipeline()
{
    if (mlManager is PythonMLManager manager)
    {
        // 1. Handle categorical features
        var categoricalFeatures = new[] { "category", "type", "region" };
        manager.CategoricalEncoding.OneHotEncode(categoricalFeatures);
        
        // 2. Create polynomial features
        var numericalFeatures = new[] { "age", "income", "score" };
        manager.FeatureEngineering.GeneratePolynomialFeatures(
            selectedFeatures: numericalFeatures,
            degree: 2,
            interactionOnly: true);
        
        // 3. Apply transformations
        manager.FeatureEngineering.ApplyLogTransformation(
            selectedFeatures: new[] { "income", "price" });
        
        // 4. Feature selection
        manager.FeatureSelection.ApplyVarianceThreshold(threshold: 0.01);
        manager.FeatureSelection.ApplyCorrelationThreshold(threshold: 0.95);
        
        // 5. Final scaling
        manager.DataPreprocessing.RobustScaleData();
        
        Console.WriteLine("? Feature engineering pipeline completed");
    }
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>Model Comparison and Selection</h4>
                        <pre><code class="language-csharp">public void CompareMLModels()
{
    var models = new Dictionary&lt;string, (MachineLearningAlgorithm Algorithm, Dictionary&lt;string, object&gt; Parameters)&gt;
    {
        ["RandomForest"] = (MachineLearningAlgorithm.RandomForestClassifier, new Dictionary&lt;string, object&gt;
        {
            ["n_estimators"] = 100,
            ["max_depth"] = 10,
            ["random_state"] = 42
        }),
        ["LogisticRegression"] = (MachineLearningAlgorithm.LogisticRegression, new Dictionary&lt;string, object&gt;
        {
            ["C"] = 1.0,
            ["max_iter"] = 1000,
            ["random_state"] = 42
        }),
        ["SVM"] = (MachineLearningAlgorithm.SVC, new Dictionary&lt;string, object&gt;
        {
            ["C"] = 1.0,
            ["kernel"] = "rbf",
            ["random_state"] = 42
        })
    };

    var results = new Dictionary&lt;string, (double Accuracy, double F1Score)&gt;();

    foreach (var model in models)
    {
        Console.WriteLine($"Training {model.Key}...");
        
        var modelId = $"compare_{model.Key.ToLower()}";
        
        mlManager.TrainModel(
            modelId,
            model.Value.Algorithm,
            model.Value.Parameters,
            features,
            "target");
        
        var scores = mlManager.GetModelClassificationScore(modelId);
        results[model.Key] = (scores.Item1, scores.Item2);
        
        Console.WriteLine($"{model.Key} - Accuracy: {scores.Item1:F4}, F1: {scores.Item2:F4}");
    }

    // Find best model
    var bestModel = results.OrderByDescending(r => r.Value.F1Score).First();
    Console.WriteLine($"?? Best model: {bestModel.Key} (F1: {bestModel.Value.F1Score:F4})");
}</code></pre>
                    </div>
                </section>

                <!-- Advanced Examples -->
                <section class="section" id="advanced-examples-preview">
                    <h2>?? Advanced Examples Preview</h2>
                    <p>For comprehensive advanced examples including enterprise workflows, see our <a href="advanced-examples.html">Advanced Examples</a> section.</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="feature-card">
                                <h4><i class="bi bi-graph-up text-primary"></i> Customer Churn Prediction</h4>
                                <p>Complete enterprise workflow with advanced preprocessing, feature engineering, and model evaluation.</p>
                                <a href="advanced-examples.html#customer-churn" class="btn btn-outline-primary">View Example</a>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="feature-card">
                                <h4><i class="bi bi-shield-check text-success"></i> Fraud Detection System</h4>
                                <p>Imbalanced data handling with SMOTE, advanced sampling techniques, and real-time prediction.</p>
                                <a href="advanced-examples.html#fraud-detection" class="btn btn-outline-success">View Example</a>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Assistant Classes Examples -->
                <section class="section" id="assistant-examples">
                    <h2>??? Assistant Classes Examples</h2>
                    
                    <div class="code-example">
                        <h4>Text Processing Assistant</h4>
                        <pre><code class="language-csharp">// Text processing pipeline
if (mlManager is PythonMLManager manager)
{
    // Basic text preprocessing
    manager.TextProcessing.ConvertTextToLowercase("review_text");
    manager.TextProcessing.RemovePunctuation("review_text");
    manager.TextProcessing.RemoveStopwords("review_text", "english");
    
    // Advanced text processing
    manager.TextProcessing.ApplyLemmatization("review_text");
    manager.TextProcessing.ApplyTFIDFVectorization("review_text", maxFeatures: 1000);
    
    Console.WriteLine("? Text processing completed");
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>Time Series Assistant</h4>
                        <pre><code class="language-csharp">// Time series processing
if (mlManager is PythonMLManager manager)
{
    // Extract datetime components
    manager.DateTimeProcessing.ExtractDateTimeComponents("timestamp");
    
    // Handle cyclical features
    manager.DateTimeProcessing.HandleCyclicalTimeFeatures("month", "cyclical");
    manager.DateTimeProcessing.HandleCyclicalTimeFeatures("day_of_week", "cyclical");
    
    // Time series augmentation
    manager.TimeSeries.TimeSeriesAugmentation(
        timeSeriesColumns: new[] { "sales", "demand" },
        augmentationType: "jittering",
        parameter: 0.1);
    
    Console.WriteLine("? Time series processing completed");
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h4>Visualization Assistant</h4>
                        <pre><code class="language-csharp">// Create visualizations
if (mlManager is PythonMLManager manager)
{
    var modelId = "trained_model";
    
    // Model evaluation plots
    manager.Visualization.CreateROC(modelId, "outputs/roc_curve.png");
    manager.Visualization.CreateConfusionMatrix(modelId, "outputs/confusion_matrix.png");
    manager.Visualization.CreateFeatureImportance(modelId, "outputs/feature_importance.png");
    manager.Visualization.CreateLearningCurve(modelId, "outputs/learning_curve.png");
    
    // Generate comprehensive report
    manager.Visualization.GenerateEvaluationReport(modelId, "outputs/model_report.html");
    
    Console.WriteLine("? Visualizations created in outputs/ folder");
}</code></pre>
                    </div>
                </section>

                <!-- Utility Examples -->
                <section class="section" id="utility-examples">
                    <h2>?? Utility Examples</h2>
                    
                    <div class="code-example">
                        <h4>Data Splitting and Export</h4>
                        <pre><code class="language-csharp">// Data management utilities
if (mlManager is PythonMLManager manager)
{
    // Split data into train/test/validation sets
    var splitPaths = manager.Utilities.SplitData(
        dataFilePath: "processed_data.csv",
        testSize: 0.2f,
        validationSize: 0.1f,
        trainFilePath: "train.csv",
        testFilePath: "test.csv",
        validationFilePath: "validation.csv",
        primaryFeatureKeyID: "id",
        labelColumn: "target");
    
    Console.WriteLine($"Data split into: {string.Join(", ", splitPaths)}");
    
    // Export predictions
    manager.Utilities.ExportTestResult(
        "predictions.csv", 
        "customer_id", 
        "prediction");
    
    Console.WriteLine("? Data management completed");
}</code></pre>
                    </div>
                </section>

                <!-- Error Handling Examples -->
                <section class="section" id="error-handling-examples">
                    <h2>?? Error Handling Examples</h2>
                    
                    <div class="code-example">
                        <h4>Robust ML Pipeline with Error Handling</h4>
                        <pre><code class="language-csharp">public async Task RunRobustMLPipeline()
{
    try
    {
        // Initialize with error checking
        var mlManager = new PythonMLManager(beepService, pythonRuntime, sessionInfo);
        
        if (!mlManager.ConfigureMLSessionForUser("user"))
        {
            throw new InvalidOperationException("Failed to configure ML session");
        }
        
        // Validate data file exists
        string dataFile = "data.csv";
        if (!File.Exists(dataFile))
        {
            throw new FileNotFoundException($"Data file not found: {dataFile}");
        }
        
        // Load and validate data
        var features = mlManager.ValidateAndPreviewData(dataFile);
        if (features == null || features.Length == 0)
        {
            throw new InvalidOperationException("No valid features found");
        }
        
        // Preprocessing with error handling
        if (mlManager is PythonMLManager manager)
        {
            try
            {
                manager.DataPreprocessing.ImputeMissingValues("mean");
                Console.WriteLine("? Missing values handled");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"?? Imputation failed, trying alternative: {ex.Message}");
                manager.DataPreprocessing.DropMissingValues("rows");
            }
            
            try
            {
                manager.DataPreprocessing.StandardizeData();
                Console.WriteLine("? Data standardized");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"?? Standardization failed: {ex.Message}");
                // Continue without standardization
            }
        }
        
        // Model training with parameter validation
        var parameters = new Dictionary&lt;string, object&gt;
        {
            ["n_estimators"] = 100,
            ["max_depth"] = 10,
            ["random_state"] = 42
        };
        
        string modelId = "robust_model";
        mlManager.TrainModel(modelId, MachineLearningAlgorithm.RandomForestClassifier, 
                           parameters, features.Take(Math.Min(features.Length, 10)).ToArray(), "target");
        
        Console.WriteLine("? ML Pipeline completed successfully");
    }
    catch (InvalidOperationException ex)
    {
        Console.WriteLine($"? Configuration error: {ex.Message}");
    }
    catch (FileNotFoundException ex)
    {
        Console.WriteLine($"? File error: {ex.Message}");
    }
    catch (Exception ex)
    {
        Console.WriteLine($"? Unexpected error: {ex.Message}");
        Console.WriteLine($"Stack trace: {ex.StackTrace}");
    }
}</code></pre>
                    </div>
                </section>

                <!-- Navigation Links -->
                <div class="nav-links">
                    <a href="getting-started.html" class="btn-beep">
                        <i class="bi bi-rocket"></i> Getting Started
                    </a>
                    <a href="advanced-examples.html" class="btn-beep">
                        <i class="bi bi-cpu"></i> Advanced Examples
                    </a>
                    <a href="assistant-classes.html" class="btn-beep">
                        <i class="bi bi-tools"></i> Assistant Classes
                    </a>
                </div>

                <!-- Footer -->
                <footer class="documentation-footer">
                    <div class="footer-content">
                        <div class="footer-copyright">
                            <p>&copy; 2024 The Tech Idea - Beep.Python.ML Examples</p>
                            <p>Practical Code Examples for .NET 6, 7, 8, and 9</p>
                        </div>
                        <div class="footer-links">
                            <a href="#basic-examples">Basic Examples</a>
                            <a href="#intermediate-examples">Intermediate</a>
                            <a href="#assistant-examples">Assistant Classes</a>
                            <a href="#error-handling-examples">Error Handling</a>
                        </div>
                    </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="assets/navigation.js"></script>
</body>
</html>